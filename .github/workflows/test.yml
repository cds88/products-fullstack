name: Test


on:
    push:
        branches:
            - test


jobs:
    deploy:
        runs-on: ubuntu-latest
        
        steps:
            - name: Checkout code
              uses: actions/checkout@v3
            - name: Test SSH Connection
              run: |
                mkdir -p ~/.ssh              
                echo "${{ secrets.SSH_PRIVATE_KEY }}" > ~/.ssh/id_rsa
                chmod 600 ~/.ssh/id_rsa            
                ssh -p ${{secrets.SSH_PORT}} -o StrictHostKeyChecking=no ${{secrets.SSH_USER}}@${{secrets.SSH_REMOTE_IP}} "echo 'SSH connection successful'"  
                #qq